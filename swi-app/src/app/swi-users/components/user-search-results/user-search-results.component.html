<!--Loading Message-->
<div *ngIf="loading">
  <h5>
    <i class="fa fa-spinner fa-spin"></i> Searching SWI Repository...
  </h5>
</div>


<p-dataTable [value]="users" [rows]="25" [paginator]="true" [pageLinks]="3" [rowsPerPageOptions]="[10,25,100]" selectionMode="single"
  [(selection)]="selectedUser" (onRowDblclick)="onRowDblClick($event.data)">
  <p-header>User Search Results (Double click to open)</p-header>
  <!-- <p-column field="id" header="id" sortable="true"></p-column> -->
  <p-column field="username" header="Username" sortable="true">
    <ng-template let-col let-user="rowData" pTemplate="body">
      <strong>{{user[col.field]}}</strong>
    </ng-template>
  </p-column>
  <p-column field="firstName" header="Firt Name"></p-column>
  <p-column field="lastName" header="Last Name"></p-column>
  <p-column field="company.name" header="Default Company"></p-column>
  <p-column field="isLocalAccount" header="Local User">
    <ng-template let-col let-user="rowData" pTemplate="body">
      <p-triStateCheckbox [(ngModel)]="user[col.field]" name="isLocalAccount"></p-triStateCheckbox>
    </ng-template>
  </p-column>


  <p-footer>
    <button pButton type="button" label="Add" icon="fa-plus" (click)="showEditUserDialog()"></button>
  </p-footer>

</p-dataTable>

<swi-user-edit-dialog #userEditDialog (onSaved)="onUserAdded($event)"></swi-user-edit-dialog>
